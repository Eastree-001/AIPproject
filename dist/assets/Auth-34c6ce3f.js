import{u as T,n as B,r as m,p as x,a as n,o as I,c as M,d as a,b as s,w as o,e as k,E as p}from"./index-0e4eef66.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";const D={class:"auth-container"},S={class:"auth-card"},K={class:"tab-section fade-in-up"},O={class:"tab-content"},j={class:"tab-content"},G={class:"features-section fade-in-up"},H={class:"feature-item"},J={class:"feature-item"},Q={class:"feature-item"},W={__name:"Auth",setup(X){const g=T(),w=B(),b=m("login"),v=m(),V=m(),c=m(!1),f=m(!1),i=x({email:"",password:""}),l=x({email:"",password:"",confirmPassword:""}),A={email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},C={email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(r,e,d)=>{e!==l.password?d(new Error("两次输入的密码不一致")):d()},trigger:"blur"}]},z=()=>{i.email="",i.password="",l.email="",l.password="",l.confirmPassword=""},P=async()=>{try{await v.value.validate(),c.value=!0;const r=await w.login(i.email,i.password);r.success?(p.success("登录成功！"),g.push("/")):p.error(r.error||"登录失败，请重试")}catch(r){console.error("登录验证失败:",r)}finally{c.value=!1}},F=async()=>{try{await V.value.validate(),f.value=!0;const r=await w.register(l.email,l.password,l.confirmPassword);r.success?(p.success("注册成功！"),g.push("/dashboard")):p.error(r.error||"注册失败，请重试")}catch(r){console.error("注册验证失败:",r)}finally{f.value=!1}};return(r,e)=>{const d=n("el-input"),u=n("el-form-item"),y=n("el-button"),h=n("el-form"),R=n("el-tab-pane"),L=n("el-tabs"),U=n("Aim"),_=n("el-icon"),q=n("ChatDotRound"),E=n("Reading");return I(),M("div",D,[a("div",S,[e[11]||(e[11]=a("div",{class:"logo-section fade-in-up"},[a("div",{class:"logo"},"🌟 启明星"),a("div",{class:"subtitle"},"AI驱动智慧学习与管理平台")],-1)),a("div",K,[s(L,{modelValue:b.value,"onUpdate:modelValue":e[5]||(e[5]=t=>b.value=t),onTabClick:z},{default:o(()=>[s(R,{label:"登录",name:"login"},{default:o(()=>[a("div",O,[s(h,{ref_key:"loginFormRef",ref:v,model:i,rules:A,"label-position":"top",class:"auth-form"},{default:o(()=>[s(u,{label:"邮箱",prop:"email"},{default:o(()=>[s(d,{modelValue:i.email,"onUpdate:modelValue":e[0]||(e[0]=t=>i.email=t),placeholder:"请输入邮箱地址","prefix-icon":"Message",size:"large"},null,8,["modelValue"])]),_:1}),s(u,{label:"密码",prop:"password"},{default:o(()=>[s(d,{modelValue:i.password,"onUpdate:modelValue":e[1]||(e[1]=t=>i.password=t),type:"password",placeholder:"请输入密码","prefix-icon":"Lock",size:"large","show-password":""},null,8,["modelValue"])]),_:1}),s(u,null,{default:o(()=>[s(y,{type:"primary",size:"large",class:"submit-btn",loading:c.value,onClick:P},{default:o(()=>e[6]||(e[6]=[k(" 登录 ",-1)])),_:1,__:[6]},8,["loading"])]),_:1})]),_:1},8,["model"])])]),_:1}),s(R,{label:"注册",name:"register"},{default:o(()=>[a("div",j,[s(h,{ref_key:"registerFormRef",ref:V,model:l,rules:C,"label-position":"top",class:"auth-form"},{default:o(()=>[s(u,{label:"邮箱",prop:"email"},{default:o(()=>[s(d,{modelValue:l.email,"onUpdate:modelValue":e[2]||(e[2]=t=>l.email=t),placeholder:"请输入邮箱地址","prefix-icon":"Message",size:"large"},null,8,["modelValue"])]),_:1}),s(u,{label:"密码",prop:"password"},{default:o(()=>[s(d,{modelValue:l.password,"onUpdate:modelValue":e[3]||(e[3]=t=>l.password=t),type:"password",placeholder:"请输入密码","prefix-icon":"Lock",size:"large","show-password":""},null,8,["modelValue"])]),_:1}),s(u,{label:"确认密码",prop:"confirmPassword"},{default:o(()=>[s(d,{modelValue:l.confirmPassword,"onUpdate:modelValue":e[4]||(e[4]=t=>l.confirmPassword=t),type:"password",placeholder:"请再次输入密码","prefix-icon":"Lock",size:"large","show-password":""},null,8,["modelValue"])]),_:1}),s(u,null,{default:o(()=>[s(y,{type:"primary",size:"large",class:"submit-btn",loading:f.value,onClick:F},{default:o(()=>e[7]||(e[7]=[k(" 注册 ",-1)])),_:1,__:[7]},8,["loading"])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["modelValue"])]),a("div",G,[a("div",H,[s(_,{class:"feature-icon"},{default:o(()=>[s(U)]),_:1}),e[8]||(e[8]=a("span",null,"OKR目标管理",-1))]),a("div",J,[s(_,{class:"feature-icon"},{default:o(()=>[s(q)]),_:1}),e[9]||(e[9]=a("span",null,"AI智能助手",-1))]),a("div",Q,[s(_,{class:"feature-icon"},{default:o(()=>[s(E)]),_:1}),e[10]||(e[10]=a("span",null,"知识库问答",-1))])])])])}}},$=N(W,[["__scopeId","data-v-5873cc44"]]);export{$ as default};
